(() => { "use strict"; function t() { return r.status >= 200 && r.status < 300 } function n(t) { return Number((.750063755419211 * t).toFixed()) } function e(t) { switch (t.charAt(0)) { case "W": return "Западный"; case "N": return "Северный"; case "S": return "Южный"; case "E": return "Восточный"; default: return "Неизвестно" } } function c(t) { return Number((t / 3.6).toFixed()) } var o = null, r = new XMLHttpRequest, u = "".concat("http://api.weatherapi.com/v1/").concat("current", ".").concat("json", "?key=").concat("854c52e4aab6428a9ea190942240207", "&q=auto:ip&lang=ru"); r.open("get", u, !0), r.send(), r.onprogress = function() { t() || console.log("Код ошибки ".concat(r.status)) }; var a = document.getElementById("city"), i = document.getElementById("temperature"), d = document.getElementById("condition"), l = document.getElementById("pressure"), s = document.getElementById("wind-direction"), m = document.getElementById("wind-speed"), g = document.getElementById("windchill"), p = document.getElementById("humidity"); r.onload = function() { t() && (o = JSON.parse(r.response), console.log(o), console.log("Погода в городе ".concat(o.location.name, " ").concat(o.current.temp_c, "℃")), console.log("За окном ".concat(o.current.condition.text)), console.log("Давление ".concat(n(o.current.pressure_mb), " мм.рт.ст")), console.log("Ветер ".concat(e(o.current.wind_dir))), console.log("Скорость ветра ".concat(c(o.current.wind_kph), " м/с")), console.log("Температура ветра ".concat(o.current.windchill_c, "℃")), console.log("Влажность ".concat(o.current.humidity, "%")), a && (a.textContent = "Погода в городе: ".concat(o.location.name)), i && (i.textContent = "Температура: ".concat(o.current.temp_c, "℃")), d && (d.textContent = "За окном: ".concat(o.current.condition.text)), l && (l.textContent = "Давление: ".concat(n(o.current.pressure_mb), " мм.рт.ст")), s && (s.textContent = "Ветер: ".concat(e(o.current.wind_dir))), m && (m.textContent = "Скорость ветра: ".concat(c(o.current.wind_kph), " м/с")), g && (g.textContent = "Температура ветра: ".concat(o.current.windchill_c, "℃")), p && (p.textContent = "Влажность: ".concat(o.current.humidity, "%"))) }, window.addEventListener("click", (function() { return location.reload() })) })();
